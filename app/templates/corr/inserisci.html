{% extends 'base.html' %}

{% block title %}Corrispettivi{% endblock %}

{% block style %}
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/corrispettivi.css') }}">
{% endblock %}

{% block script %}
  <script src="{{url_for('static', filename='inserisci.js')}}" defer></script>
{% endblock %}

{% block content %}
  <script> const mercati = {{ mercati|tojson }}</script>

  <section>
    <form class="corrispettivi-inserisci" method="POST">
      <fieldset>
        <legend>Mercato</legend>

        <label>Data <input type="date" name="data" max="{{ today }}" value="{{ request.form['data'] }}"required></label>

        <label>Mercato
          <select name="mercato" value="{{ request.form['mercato'] }}" required>
            <option></option>
            {% for mercato in mercati_nomi %}
              <option>{{ mercato }}</option>
            {% endfor %}
          </select>
        </label>

        <label>Giorno
          <select name="giorno_mercato" value="{{ request.form['giorno_mercato'] }}" required>
            <option>Lunedì</option>
            <option>Martedì</option>
            <option>Mercoledì</option>
            <option>Giovedì</option>
            <option>Venerdì</option>
            <option>Sabato</option>
            <option>Domenica</option>
          </select>
        </label>

        <label>Cassa
          <select name="cassa" value="{{ request.form['cassa'] }}"required>
            <option>Cassa 1</option>
            <option>Cassa 2</option>
            <option>Cassa 3</option>
          </select>
        </label>
      </fieldset>

      <fieldset class="reparti">
        <legend>Corrispettivo</legend>

        <label>Reparto 1 <input type="number" min="0" step="0.01" name="reparto1" value="{{ request.form['reparto1'] }}"></label>
        <label>Reparto 2 <input type="number" min="0" step="0.01" name="reparto2" value="{{ request.form['reparto2'] }}"></label>
        <label>Reparto 3 <input type="number" min="0" step="0.01" name="reparto3" value="{{ request.form['reparto3'] }}"></label>
        <label>Reparto 4 <input type="number" min="0" step="0.01" name="reparto4" value="{{ request.form['reparto4'] }}"></label>
        <label>Reparto 5 <input type="number" min="0" step="0.01" name="reparto5" value="{{ request.form['reparto5'] }}"></label>
        <label>Totale <input type="number" step="0.01" name="totale" value="{{ request.form['totale'] }}" required></label>
      </fieldset>
      <button class="global-btn text-medium" type="submit">Inserisci</button>
    </form>
  </section>
{% endblock %}